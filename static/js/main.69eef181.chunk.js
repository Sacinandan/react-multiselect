(this["webpackJsonpcustom-dropdown"]=this["webpackJsonpcustom-dropdown"]||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(22)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,i=n(0),o=n.n(i),c=n(7),l=n.n(c),r=(n(13),n(4)),u=n(1),s=n(2),d=n(3),m=function(e){var t=0;return e.map((function(e){return{id:t++,value:e,isActive:!1}}))};!function(e){e[e.Backspace=8]="Backspace",e[e.Enter=13]="Enter",e[e.Esc=27]="Esc",e[e.Up=38]="Up",e[e.Down=40]="Down"}(a||(a={}));var p=n(5),f=function(e){var t=e.children,n=Object(r.a)(e,["children"]);return o.a.createElement("button",n,t)},v=(n(14),f),h=function(e){var t=e.children,n=e.selectId,a=e.handleChange,i=e.name,c=e.value,l=e.fixedLabel,u=Object(r.a)(e,["children","selectId","handleChange","name","value","fixedLabel"]);return o.a.createElement("div",{className:"group"},o.a.createElement("input",Object.assign({className:"form-input",type:"text",name:i,onChange:function(e){return a(e,n)},value:c},u)),i&&o.a.createElement("label",{className:"".concat(c.length||l?"shrink":""," form-input-label")},i),t)},b=(n(15),h),E=function(e){var t=e.selectId,n=e.optionId,a=e.value,i=e.handleRemoveSelectedOption;return o.a.createElement("div",{className:"selected-option"},a,o.a.createElement("span",{className:"selected-option__btn-remove",onClick:function(e){return i(e,t,n)}},"\xd7"))},O=(n(16),E),g=function(e){var t=e.newSelectId,n=e.hideAddForm,c=e.addNewMultiSelect,l=Object(i.useState)({id:0,name:"",options:[],hidden:!0}),r=Object(d.a)(l,2),f=r[0],h=r[1],E=Object(i.useState)({name:"",option:""}),g=Object(d.a)(E,2),j=g[0],N=g[1],S=Object(i.useState)(0),C=Object(d.a)(S,2),k=C[0],I=C[1],A=Object(i.useState)({wasAttempt:!1,isFocused:!1}),w=Object(d.a)(A,2),x=w[0],y=w[1],D=function(e,t){if("Options"===e){var n=t.split(", ");n.length>1&&(n[0].trim()&&function(e){h((function(t){return Object(u.a)({},t,{options:[].concat(Object(s.a)(t.options),[{id:k,value:e,isActive:!1}])})})),I(k+1)}(n[0]),N((function(e){return{name:e.name,option:""}})))}else h((function(e){return Object(u.a)({},e,{name:t})}))},L=function(e,t){var n=e.target,a=n.value,i=n.name,o=function(e){return e.split(" ").map((function(e){return e.substring(0,1).toUpperCase()+e.substring(1)})).join(" ").replace(/ +(?= )/g,"")}(a);N((function(e){return Object(u.a)({},e,Object(p.a)({},i===f.name||"Name"===i?"name":"option",o))})),D(i,o)},B=function(e,t){e.preventDefault(),N((function(e){return Object(u.a)({},e,Object(p.a)({},t===f.name||"Name"===t?"name":"option",""))})),h("option"===t?function(e){return Object(u.a)({},e,{options:[]})}:function(e){return Object(u.a)({},e,{name:""})})},F=function(e){e.keyCode!==a.Backspace||j.option.trim()||function(){var e=Object(u.a)({},f);e.options.pop(),h(e)}()},_=function(e,t,n){h(Object(u.a)({},f,{options:f.options.filter((function(e){return e.id!==n}))}))};return n?null:o.a.createElement("div",{className:"modal-box"},o.a.createElement("div",{className:"multi-select-add-form"},o.a.createElement("h2",{className:"header__title"},"NEW SELECT"),o.a.createElement("div",{className:"multi-select"},o.a.createElement("div",{className:"selected-options-box"},o.a.createElement(b,{selectId:t,name:f.name.trim()?f.name:"Name",handleChange:L,value:j.name,fixedLabel:!!j.name.trim(),children:null})),o.a.createElement("div",{className:"control-box"},j.name.trim()?o.a.createElement(v,{className:"btn-remove",onClick:function(e){return B(e,j.name)}},"\xd7"):null),o.a.createElement("div",{className:"status-box"},x.wasAttempt?f.name.trim()||j.name.trim()?o.a.createElement("strong",{className:"success"},"\u2713"):o.a.createElement("strong",{className:"attention"},"\xd7"):null)),o.a.createElement("div",{className:"multi-select"},o.a.createElement("div",{className:"selected-options-box"},f.options.map((function(e){var t=e.id,n=e.value;return o.a.createElement(O,{key:t,selectId:0,optionId:t,value:n,handleRemoveSelectedOption:_})})),o.a.createElement(b,{selectId:t,name:"Options",handleChange:L,value:j.option,fixedLabel:!!j.option.trim()||!!f.options.length,children:null,onKeyDown:function(e){return F(e)},onFocus:function(){return y((function(e){return Object(u.a)({},e,{isFocused:!0})}))},onBlur:function(){return y((function(e){return Object(u.a)({},e,{isFocused:!1})}))}})),o.a.createElement("div",{className:"control-box"},f.options.length||j.option.trim()?o.a.createElement(v,{className:"btn-remove",onClick:function(e){return B(e,"option")}},"\xd7"):null),o.a.createElement("div",{className:"status-box"},x.wasAttempt?f.options.length?o.a.createElement("strong",{className:"success"},"\u2713"):o.a.createElement("strong",{className:"attention"},"\xd7"):null)),x.isFocused&&o.a.createElement("em",{className:"tooltip"},"Separate options with a comma and space"),o.a.createElement(v,{className:"form__btn--submit",onClick:function(e){return function(e,n){e.preventDefault(),n.name.trim()&&n.options.length&&(c(Object(u.a)({},n,{id:t,options:m(n.options.map((function(e){return e.value})))})),N({name:"",option:""}),h({id:0,name:"",options:[],hidden:!0})),y({wasAttempt:!0,isFocused:!1})}(e,f)}},"ADD")))},j=(n(17),g),N=function(e){var t=e.selectId,n=e.options,a=e.handleSelectOption,i=e.handleSetActive,c=e.handleBlur;return o.a.createElement("ul",{className:"options-list",onBlur:function(e){return c(e,t)}},n.length?n.map((function(e){var n=e.id,c=e.value,l=e.isActive;return o.a.createElement("li",{className:"option".concat(l?" active":""),key:n,value:c,onClick:function(e){return a(e,t,n)},onMouseEnter:function(e){return i(e,t,n)}},c)})):o.a.createElement("p",{className:"message"},"All options have been selected"))},S=(n(18),N),C=function(e){var t,n,a=e.id,i=e.name,c=e.selectedOptionsList,l=e.options,r=e.hidden,u=e.inputValue,s=e.handleChange,d=e.handleToggleOptionsList,m=e.handleFocusInput,p=e.handleClearInput,f=e.handleSelectOption,h=e.handleSetActive,E=e.handlePressKey,g=e.handleBlur,j=e.handleRemoveSelectedOption,N=u[a].value.trim()?l.filter((function(e){return RegExp(u[a].value.toLowerCase()).test(e.value.toLowerCase())})):l,C=-2,k=function(){return-1===(C=N.findIndex((function(e){return e.isActive})))&&N.length&&(N[0].isActive=!0),C};N.length&&k();return o.a.createElement("div",{key:a,className:"multi-select",tabIndex:0,onKeyDown:function(e){return E(e,a,N.length&&-2!==C?(k(),[N[C>0?C-1:0].id,N[C].id,N[C<=N.length-2?C+1:C].id]):[0,0,0])}},o.a.createElement("div",{className:"selected-options-box"},c.map((function(e){return e.id===a&&e.options.map((function(e){return o.a.createElement(O,{key:e.id,selectId:a,optionId:e.id,value:e.value,handleRemoveSelectedOption:j})}))})),o.a.createElement(b,{name:i,handleChange:s,selectId:a,value:u[a].value,onFocus:function(e){return m(e,a)},onBlur:function(e){return g(e,a)},fixedLabel:!!(null===(t=c[a])||void 0===t?void 0:t.options.length)},r?null:o.a.createElement(S,{selectId:a,options:N,handleSelectOption:f,handleSetActive:h,handleBlur:g}))),o.a.createElement("div",{className:"control-box"},(null===(n=c[a])||void 0===n?void 0:n.options.length)||u[a].value.trim()?o.a.createElement(v,{className:"btn-remove",onClick:function(e){return p(e,a)}},"\xd7"):null,o.a.createElement(v,{className:"btn-toggle",onClick:function(e){return d(e,a)},onBlur:function(e){return g(e,a)}},"\u23f7")))},k=(n(19),C),I=function(e){var t=e.children,n=e.data,c=Object(i.useState)(function(e){var t=0;return e.map((function(e){return{id:t++,name:e.name,options:m(e.options),hidden:!0}}))}(n)),l=Object(d.a)(c,2),p=l[0],f=l[1],h=Object(i.useState)(p.map((function(e){return{id:e.id,options:[]}}))),b=Object(d.a)(h,2),E=b[0],O=b[1],g=Object(i.useState)(function(e){return e.map((function(e){return{id:e.id,value:""}}))}(p)),N=Object(d.a)(g,2),S=N[0],C=N[1],I=Object(i.useState)(!0),A=Object(d.a)(I,2),w=A[0],x=A[1],y=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(s.a)(p);n[e].hidden=t,f(p.map((function(n){return Object(u.a)({},n,{hidden:n.id!==e||t})})))},D=function(){var e=S.map((function(e){return{id:e.id,value:""}}));C(e)},L=function(e,t){O(E.map((function(n){return n.id===e?{id:e,options:[].concat(Object(s.a)(n.options),[p[e].options[t]])}:n}))),D()},B=function(e,t,n){var i=Object(d.a)(t,3),o=i[0],c=i[1],l=i[2],r=Object(s.a)(p);n===a.Up&&o!==c&&(r[e].options[o].isActive=!0,r[e].options[c].isActive=!1),n===a.Down&&l!==c&&(r[e].options[l].isActive=!0,r[e].options[c].isActive=!1),f(r)},F=function(e,t){y(t,!1)},_=function(e,t){null===e.relatedTarget&&y(t)},R=function(e,t){e.preventDefault(),f(p.map((function(e){var n=e.id,a=e.hidden,i=Object(r.a)(e,["id","hidden"]);return Object(u.a)({id:n,hidden:n!==t||!a},i)})))},U=function(e,t,n){switch(e.keyCode){case a.Enter:e.preventDefault(),E[t].options.length<p[t].options.length&&L(t,n[1]);break;case a.Esc:p.map((function(e){var t=e.id;return y(t)}));break;case a.Up:case a.Down:B(t,n,e.keyCode);break;case a.Backspace:!function(e){var t=Object(s.a)(E);t[e].options.pop(),O(t)}(t)}},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.length;e.preventDefault(),C(S.map((function(n){var a=n.id,i=n.value;return{id:a,value:a===t?e.target.value:i}})))},M=function(e,t){if(e.preventDefault(),D(),E.length){var n=Object(s.a)(E);n[t].options=[];var a=Object(s.a)(p);a[t].options.map((function(e){return e.isActive=!1})),O(n),f(a)}},K=function(e,t,n){!function(e,t){var n=Object(s.a)(p);n[e].options.map((function(e){return e.isActive=e.id===t})),f(n)}(t,n)},P=function(e,t,n){L(t,n)},W=function(e,t,n){var a=Object(s.a)(E);a[t].options.splice(a[t].options.findIndex((function(e){return e.id===n})),1),O(E)};return o.a.createElement(o.a.Fragment,null,p.map((function(e){var t,n,a=e.id,i=e.name,c=e.options,l=e.hidden,r=a<E.length?(t=c,n=E[a].options,t.filter((function(e){return!n.filter((function(t){return t.id===e.id})).length}))):c;return o.a.createElement(k,{key:a,id:a,name:i,selectedOptionsList:E,options:r,hidden:l,handleChange:T,inputValue:S,handleToggleOptionsList:R,handleFocusInput:F,handlePressKey:U,handleClearInput:M,handleSelectOption:P,handleSetActive:K,handleRemoveSelectedOption:W,handleBlur:_})})),t,o.a.createElement(v,{className:"btn-add-select",onClick:function(e){e.preventDefault(),x(!w)}},w?"NEW SELECT":"CLOSE"),o.a.createElement(j,{newSelectId:p.length,hideAddForm:w,addNewMultiSelect:function(e){C([].concat(Object(s.a)(S),[{id:e.id,value:""}])),O([].concat(Object(s.a)(E),[{id:e.id,options:[]}])),f([].concat(Object(s.a)(p),[e])),x(!0)}}))},A=(n(20),I),w=(n(21),[{name:"Language",options:["English","Russian","French","Spanish","Italian","Hindi"]},{name:"Country",options:["USA","Russia","India","Germany","Poland","Norway","Canada"]}]),x=function(){return o.a.createElement("div",{className:"app"},o.a.createElement("header",{className:"header"},o.a.createElement("h2",{className:"header__title"},"CUSTOM DROPDOWN")),o.a.createElement("main",null,o.a.createElement("form",{className:"form",onSubmit:function(e){return e.preventDefault()}},o.a.createElement(A,{data:w},o.a.createElement(v,{className:"form__btn--submit",type:"submit"},"SUBMIT")))))};l.a.render(o.a.createElement(x,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.69eef181.chunk.js.map